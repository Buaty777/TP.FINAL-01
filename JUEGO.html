<!DOCTYPE html>
<html lang="es">
<head>
    <link rel="icon" href="LOGO 1.ico" type="image/x-icon">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K.T.P (EL JUEGO)</title>
    <style>
        body {
            font-family: 'Press Start 2P', cursive;
            background-image: url('tienda.jpg');
            background-size: cover;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            text-align: center;
            overflow: hidden;
        }

        #abogado, #npc1, #npc2 {
            position: absolute;
            bottom: 20px;
            right: 10%;
            width: 200px;
            display: none;
            transition: transform 0.5s ease, opacity 0.5s ease;
            opacity: 0;
            animation: npcAnimation 1.5s infinite alternate ease-in-out;
        }

        @keyframes npcAnimation {
            0% { transform: translateY(0); }
            100% { transform: translateY(-10px); }
        }

        .panel-dialogo {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.8);
            border-radius: 10px;
            padding: 20px;
            width: 80%;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
            display: block;
        }

        .texto-dialogo {
            margin: 0;
            font-size: 18px;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .texto-visible {
            opacity: 1;
        }

        .menu-sonido {
            display: none;
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            background-color: rgba(34, 85, 34, 0.8);
            border-radius: 10px;
            padding: 10px;
            box-sizing: border-box;
            backdrop-filter: blur(5px);
        }

        .boton {
            background-color: transparent;
            border: 2px solid rgba(255, 255, 255, 0.3);
            cursor: pointer;
            padding: 10px;
            margin: 5px;
            font-size: 16px;
            transition: transform 0.2s, border-color 0.2s;
        }

        .boton img {
            width: 40px;
            height: 40px;
        }

        .boton:hover {
            transform: scale(1.1);
            border-color: rgba(255, 255, 255, 0.6);
        }

        #pantalla-negra {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: black;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            font-size: 24px;
            color: white;
        }

        #resultado {
            margin-top: 20px;
            font-size: 24px;
            background-color: rgba(255, 255, 255, 0.2);
            padding: 10px;
            border-radius: 10px;
        }

        #calculo {
            margin-top: 20px;
            width: 30%; /* Hacer la barra más pequeña */
            padding: 5px; /* Hacer un poco más pequeño el padding */
            font-size: 18px;
        }

        #boton-enviar {
            margin-top: 10px;
            padding: 10px 20px;
        }

        .boton-menu {
            position: absolute;
            top: 10px;
            left: 10px;
        }

        #boton-calculadora, #boton-precios {
            margin: 5px;
        }
    </style>
</head>
<body>
    <div id="pantalla-negra">Cargando...</div>
    <img src="abogado.png" alt="Abogado" id="abogado">
    <img src="npc1.png" alt="NPC 1" id="npc1">
    <img src="npc2.png" alt="NPC 2" id="npc2">

    <div class="panel-dialogo" id="panel-dialogo">
        <p class="texto-dialogo" id="texto-dialogo"></p>
    </div>

    <div id="resultado">¿Cuánto debes pagar?</div>
    <input type="number" id="calculo" placeholder="Ingresa tu cálculo aquí" min="0">
    <button class="boton" id="boton-enviar" onclick="verificarPago()">Enviar</button>

    <div class="boton-menu">
        <button class="boton" id="boton-calculadora" onclick="abrirCalculadora()">
            <img src="calculadora.png" alt="Calculadora">
        </button>
        <button class="boton" id="boton-precios" onclick="abrirPrecios()">
            <img src="nota.png" alt="Precios">
        </button>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.39/Tone.js"></script>
    <script>
        let indiceDialogo = 0;
        const dialogos = [
            `Luego de unos instantes, el abogado (Max) te explicó lo básico. En la parte superior izquierda tienes dos botones, uno te abre una lista la cuál tiene los precios de las cosas y el otro una calculadora, arreglate con eso.`
        ];

        function mostrarDialogo() {
            if (indiceDialogo < dialogos.length) {
                const dialogoElemento = document.getElementById('texto-dialogo');
                dialogoElemento.classList.add('texto-visible');
                dialogoElemento.textContent = dialogos[indiceDialogo];
                indiceDialogo++;
                setTimeout(() => {
                    dialogoElemento.classList.remove('texto-visible');
                    setTimeout(mostrarNPC1, 500);
                }, 3000);
            }
        }

        function mostrarNPC1() {
            const npc1 = document.getElementById('npc1');
            npc1.style.display = 'block';
            const dialogoElemento = document.getElementById('texto-dialogo');
            dialogoElemento.textContent = "Ay Holis!!!! Me dices cuanto sería el jabón y dos refrescos tres chetos y un queso plis?";
            dialogoElemento.classList.add('texto-visible');
        }

        function verificarPago() {
            const input = document.getElementById('calculo').value;
            const resultadoElemento = document.getElementById('resultado');
            const pagoCorrecto = 900 + 800 * 2 + 1700 + 1200;

            if (parseInt(input) === pagoCorrecto) {
                resultadoElemento.textContent = "Ayyy muchas gracias!!!";
            } else if (parseInt(input) > pagoCorrecto) {
                resultadoElemento.textContent = "Oye!!! Esto es una estafa...";
            } else {
                resultadoElemento.textContent = "Oh!!! Una ganga!!!";
            }

            
        }

        function abrirCalculadora() {
            alert("Calculadora abierta.");
            
        }

        function abrirPrecios() {
            alert("Lista de precios:\nJabón=900\nChetos=1700\nRefresco=800\nQueso=1200\nUranio=11.000");
           
        }

        window.onload = function () {
            setTimeout(() => {
                document.getElementById('pantalla-negra').style.display = 'none';
                mostrarDialogo();
                reproducirMusica();
            }, 8000);
        };

        function reproducirMusica() {
            const music = new Tone.Player("tu_ruta_de_musica.mp3").toDestination();
            music.autostart = true;
        }
    </script>
</body>
</html>
